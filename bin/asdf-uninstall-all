#!/bin/bash -eu

function uninstall() {
    name=$1
    for v in $(asdf list $name | sed -e 's#\*##g'); do
        echo "> asdf uninstall $name $v"
        asdf uninstall $name $v
    done
}

if [ "${1}" = "--all" ]; then
    for p in $(asdf plugin list); do
        uninstall $p
    done
else
    uninstall $1
fi
